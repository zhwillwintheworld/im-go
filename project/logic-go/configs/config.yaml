# Logic 服务配置
app:
  name: im-logic
  log_level: debug

# NATS 配置
nats:
  url: nats://localhost:4222
  # cluster:
  #   urls:
  #     - nats://nats-1:4222
  #     - nats://nats-2:4222
  #     - nats://nats-3:4222
  max_reconnects: -1  # 无限重连
  reconnect_wait: 2s
  worker_count: 100    # Worker Pool 并发数
  buffer_size: 10000   # 消息缓冲区大小

# PostgreSQL
database:
  host: localhost
  port: 5432
  name: im_db
  user: postgres
  password: xhxxygwl
  max_open_conns: 50
  max_idle_conns: 10
  conn_max_lifetime: 30m

# Redis
redis:
  host: localhost
  port: 6379
  password: "xhxxygwl"
  db: 0
  pool_size: 50
  # cluster:
  #   addrs:
  #     - redis-1:6379
  #     - redis-2:6379
  #     - redis-3:6379

# 批量写入配置
batch:
  size: 100           # 批量大小阈值
  flush_interval: 10s # 强制刷新间隔

# 房间管理配置
room:
  max_rooms: 50000          # 最大房间数
  evict_check_interval: 60s # 房间清理检查间隔
  evict_timeout: 30m       # 房间无响应超时时间
